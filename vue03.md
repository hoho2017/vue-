# 你知道vue中key的作用和工作原理吗？说说你对它的理解?

key作为元素的唯一标识，在虚拟`dom`的`diff`算法中扮演很重要的角色。

1.如果元素没有key，在`diff`中对新旧元素对比时采用‘就地更新’策略，不会移动元素节点的位子而是直接修改元素本身。

2.如果存在key，那么`*diff*`对比新旧元素时是进行移除/添加的操作，会基于key的变化重新排列元素，并且移除key不存在的元素，从而提高`diff`的计算效率。

3.`vue`中在使用相同标签名元素的过渡切换时，也会使用到key属性，其目的也是为了让`vue`可以区分它们，否则`vue`只会替换其内部属性而不会触发过渡效果。

4.如果我们有 `key` 值，我们就可以直接在 `createKeyToOldIdx` 方法中创建的 `map` 对象中根据我们的 `key` 值，直接找到相应的值。没有 `key` 值，则需要遍历才能拿到。相比于遍历，映射的速度会更快。